# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ .env —Ñ–∞–π–ª–∞ - –ó–ê–í–ï–†–®–ï–ù–û ‚úÖ

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:

```
2025/08/04 16:45:00 main.go:34: Failed to load config: config validation failed: TELEGRAM_TOKEN is required
```

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—ã–ª–∞ –≤ `.env` —Ñ–∞–π–ª–µ, –Ω–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª–∞—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å godotenv ‚úÖ

```bash
go get github.com/joho/godotenv
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω main.go ‚úÖ

**–î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç:**

```go
import (
    // ... –¥—Ä—É–≥–∏–µ –∏–º–ø–æ—Ä—Ç—ã
    "github.com/joho/godotenv"
)
```

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ .env –≤ main():**

```go
func main() {
    log.SetFlags(log.LstdFlags | log.Lshortfile)
    log.Printf("Starting Telegram Queue Bot...")

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env —Ñ–∞–π–ª–∞
    if err := godotenv.Load(); err != nil {
        log.Printf("Warning: .env file not found or could not be loaded: %v", err)
        log.Printf("Trying to use system environment variables...")
    } else {
        log.Printf(".env file loaded successfully")
    }

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    cfg, err := config.Load()
    // ...
}
```

### 3. –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚úÖ

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```
Failed to load config: config validation failed: TELEGRAM_TOKEN is required
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```
2025/08/04 16:47:30 main.go:37: .env file loaded successfully
[2025-08-04 16:47:30] INFO Configuration loaded successfully
[2025-08-04 16:47:30] INFO Storage initialized successfully  
[2025-08-04 16:47:30] INFO Telegram bot created successfully
[2025-08-04 16:47:30] INFO Webhook configured successfully
[2025-08-04 16:47:30] INFO Starting HTTP server on port 8080
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Graceful Fallback ‚úÖ

- –ï—Å–ª–∏ `.env` —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- –°–∏—Å—Ç–µ–º–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞–¥–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ `.env`

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ  

- –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞: `".env file loaded successfully"`
- –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: `"Warning: .env file not found..."`

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å ‚úÖ

- –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `.env` —Ñ–∞–π–ª–æ–º
- –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö (–≥–¥–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ ENV)

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
make env

# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
make build
make run

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
make dev

# Docker (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç .env, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç docker-compose ENV)
make docker-run
```

## –°—Ç–∞—Ç—É—Å

‚úÖ **–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê**
‚úÖ **–ë–û–¢ –ó–ê–ü–£–°–ö–ê–ï–¢–°–Ø –£–°–ü–ï–®–ù–û**  
‚úÖ **–ó–ê–ì–†–£–ó–ö–ê .ENV –†–ê–ë–û–¢–ê–ï–¢**
‚úÖ **GRACEFUL FALLBACK –†–ï–ê–õ–ò–ó–û–í–ê–ù**

---

**–¢–µ–ø–µ—Ä—å –±–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ .env —Ñ–∞–π–ª–∞! üéâ**
